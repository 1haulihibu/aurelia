<div class="container">
  <div class="input">
    <label for="browser-selection">Browser</label>
    <select value.bind="activeBrowser" id="browser-selection" style="--image-url:url(${caretDownData})">
      <option if.bind="showAverage" model.bind="undefined">Average</option>
      <option repeat.for="browser of browsers" model.bind="browser">
        ${browser.name} v${browser.version}
      </option>
    </select>
  </div>

  <div class="input">
    <let mode.bind="'small-multiples'" dataset.bind="activeBrowser ? getActiveBrowserDataset() : avgDataset"></let>
    <label for="browser-selection">Visualization</label>
    <div>
      <label for="stack-mode">
        <input id="stack-mode" type="radio" name="mode" model.bind="'stack'" checked.bind="mode">
        <span>Stacked bars</span>
      </label>
      <label for="sm-mode">
        <input id="sm-mode" type="radio" name="mode" model.bind="'small-multiples'" checked.bind="mode">
        <span>Small multiples</span>
      </label>
    </div>
  </div>
</div>


<template switch.bind="mode">
  <stacked-bars case="stack" dataset.bind measurement-identifier.bind total-duration-fn.bind></stacked-bars>
  <small-multiples case="small-multiples" dataset.bind measurement-identifier.bind></small-multiples>
</template>
